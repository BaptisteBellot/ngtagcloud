/**
 * Angular Tag cloud
 * Author : Damian Hamill
 * Repo: https://github.com/damianham/ngtagcloud
 * 
 * See Also: https://github.com/zeeshanhyder, https://github.com/lucaong/jQCloud
 */
angular.module("ngTagCloud",[]).directive("ngTagCloud",["$timeout","$log",function(t,e){function n(n,a,i,g){var o,l=function(t,e){return"undefined"==typeof t?e:t.replace("__tag__",e)},c=function(t){if(!(t.length<1)){for(var e=0;e<t.length;e++)t[e].weight=parseFloat(t[e].weight,10)
t.sort(function(t,e){return t.weight<e.weight?1:t.weight>e.weight?-1:0})
var a,i=o.find("div"),g=t[0].weight,c=t[t.length-1].weight
i.empty(),angular.forEach(t,function(t){a=g>c?Math.round((t.weight-c)/(g-c)*9)+1:5
var e=document.createElement("span")
if(void 0!==n.tagClick&&""!==n.tagClick&&"function"==typeof n.tagClick)e.onclick=function(){n.tagClick({text:t.text})},e.append(t.text)
else if(void 0!==t.link&&""!==t.link&&"string"==typeof t.link||void 0!==n.tagLink&&""!==n.tagLink&&"string"==typeof n.tagLink){var o
o=void 0!==t.link&&""!==t.link&&"string"==typeof t.link?encodeURI(t.link).replace(/'/g,"%27"):l(n.tagLink,t.text)
var r=document.createElement("a")
r.href=o,r.appendChild(document.createTextNode(t.text)),e.append(r)}else e.append(t.text)
e.classList.add("w"+a),i.append(e)}),n.$apply()}},r=function(n){return"undefined"==typeof n.tagData||""===n.tagData?(e.error("ngTagCloud: data attribute is missing. Usage <ng-tag-cloud tag-data='expression'></ng-tag-cloud>\nSee: https://github.com/damianham/ngtagcloud"),!1):(n.$watchCollection("tagData",function(e,n){t(function(){c(e)},10)}),!0)}
r(n)!==!1&&(o=angular.element(a))}var a={restrict:"EA",scope:{tagOverflow:"=?",tagData:"=",tagLink:"@",tagClick:"&"},template:"<div id='ng-tag-cloud' class='ng-tag-cloud'></div>",link:n}
return a}])
